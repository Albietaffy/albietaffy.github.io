<!DOCTYPE html>
<html>
<head>
    <title>Práctica de Exámen PPL Guatemala</title>
</head>
<body>
    <h1>Examen PPL</h1>
    <div class="timer">Tiempo restante: <span id="time">15:00</span></div>
    <div id="exam"></div>
    <button onclick="submitExam()">Enviar respuestas</button>
    <div id="result"></div>

    <script>
        const questions = [
            { q: "¿Qué es el ángulo de ataque?", options: ["A", "B", "C", "D"], correct: 0 },
            { q: "¿Qué es el ángulo de incidencia?", options: ["A", "B", "C", "D"], correct: 1 },
            // Agrega más preguntas aquí
        ];

        let selectedQuestions = [];
        while (selectedQuestions.length < 60) {
            const randomIndex = Math.floor(Math.random() * questions.length);
            if (!selectedQuestions.includes(questions[randomIndex])) {
                selectedQuestions.push(questions[randomIndex]);
            }
        }

        const examDiv = document.getElementById("exam");
        selectedQuestions.forEach((q, index) => {
            const div = document.createElement("div");
            div.className = "question";
            div.innerHTML = `<p>${index + 1}. ${q.q}</p>`;
            q.options.forEach((opt, i) => {
                div.innerHTML += `<input type="radio" name="q${index}" value="${i}">${opt}<br>`;
            });
            examDiv.appendChild(div);
        });

        let timeLeft = 900;
        const timer = setInterval(() => {
            timeLeft--;
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById("time").innerText = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
            if (timeLeft <= 0) {
                clearInterval(timer);
                submitExam();
            }
        }, 1000);

        function submitExam() {
            clearInterval(timer);
            let score = 0;
            selectedQuestions.forEach((q, index) => {
                const answer = document.querySelector(`input[name="q${index}"]:checked`);
                if (answer && parseInt(answer.value) === q.correct) {
                    score++;
                }
            });
            document.getElementById("result").innerText = `Tu puntuación: ${score}/${selectedQuestions.length}`;
        }
    </script>
</body>
</html>